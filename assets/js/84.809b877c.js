(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{489:function(t,r,s){"use strict";s.r(r);var a=s(2),e=Object(a.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h3",{attrs:{id:"写在前面"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#写在前面"}},[t._v("#")]),t._v(" 写在前面")]),t._v(" "),r("p",[t._v("数字互联网时代，用户的在线活动几乎都会留下痕迹，其中，浏览器指纹就像用户的数字身份证，让网站能够识别和追踪用户。")]),t._v(" "),r("h3",{attrs:{id:"什么是浏览器指纹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是浏览器指纹"}},[t._v("#")]),t._v(" 什么是浏览器指纹")]),t._v(" "),r("p",[t._v("浏览器指纹【Browser Fingerprinting】是一种用于识别和追踪互联网用户的技术，它通过分析用户的浏览器环境和行为，生成一个唯一的指纹（即使他们清除了浏览器缓存或使用了隐身模式）。这个指纹可以用于识别用户、追踪用户活动、防止恶意攻击等，无需依赖传统的 cookie。")]),t._v(" "),r("h3",{attrs:{id:"浏览器指纹工作原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浏览器指纹工作原理"}},[t._v("#")]),t._v(" 浏览器指纹工作原理")]),t._v(" "),r("ol",[r("li",[t._v("信息收集与特征提取")])]),t._v(" "),r("ul",[r("li",[t._v("用户访问网站时，网站会收集用户设备和浏览器的各种信息，如操作系统版本、浏览器类型、屏幕分辨率、已安装的插件等。")]),t._v(" "),r("li",[t._v("这些信息被称为指纹因子，浏览器指纹技术会从中提取具有标识性的特征。")])]),t._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[t._v("指纹生成")])]),t._v(" "),r("ul",[r("li",[t._v("通过算法处理提取的特征信息，生成一个具有唯一性的浏览器指纹。")]),t._v(" "),r("li",[t._v("这个指纹通常是一个字符串或数字标识符，它可以用于识别用户。")])]),t._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[t._v("隐私保护与防追踪")])]),t._v(" "),r("ul",[r("li",[t._v("指纹浏览器通过技术手段改变用户设备的浏览器指纹信息，从而防止被追踪")]),t._v(" "),r("li",[t._v("指纹浏览器可以使用代理 IP 来代理用户的访问行为，隐藏用户的真实 IP")]),t._v(" "),r("li",[t._v("指纹浏览器能修改的各项信息生成特定的浏览器指纹，防止网站对用户进行识别、追踪")])]),t._v(" "),r("h3",{attrs:{id:"怎么生成浏览器指纹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#怎么生成浏览器指纹"}},[t._v("#")]),t._v(" 怎么生成浏览器指纹")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://dev.fingerprint.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("安装 fingerprintjs 生成浏览器唯一标识(浏览器指纹)，v4 版本需要收费，使用的是 v3.4.2 版本。")]),t._v(" "),r("div",{staticClass:"language-bash line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i @fingerprintjs/fingerprintjs\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" FingerprintJS "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@fingerprintjs/fingerprintjs"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFingerPrintID")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fpPromise "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" FingerprintJS"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" fpPromise"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("visitorId\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br")])]),r("h3",{attrs:{id:"遇到的问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题"}},[t._v("#")]),t._v(" 遇到的问题")]),t._v(" "),r("p",[t._v("电脑外接了两个显示器，生成指纹的是不一样的，但在统计用户的时候是期望一致，fingerprintjs 可以排除一些组件，降低指纹的唯一性变化。")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getFingerPrintId")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fpPromise "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" FingerprintJS"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("result")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" fpPromise"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 排除一些屏幕相关等一些组件")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" screenFrame"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" screenResolution"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colorDepth"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colorGamut"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hdr"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("components "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" result"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("components\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" visitorId "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FingerprintJS"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashComponents")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("components"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" visitorId\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br")])]),r("h3",{attrs:{id:"fingerprintjs-使用的组件介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fingerprintjs-使用的组件介绍"}},[t._v("#")]),t._v(" FingerprintJS 使用的组件介绍")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("分类说明比较清晰的图，转载自"),r("a",{attrs:{href:"https://juejin.cn/post/7125260071990198308",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),r("OutboundLink")],1),t._v(" "),r("img",{attrs:{src:"https://raw.githubusercontent.com/AprilTong/image/master/img_v3_02f3_1a8c23d1-3160-4cd3-a9f4-ccaaad274a7g.jpg",alt:"转载图片"}})])]),t._v(" "),r("li",[r("p",[t._v("打印出来的属性文字解释")])])]),t._v(" "),r("ul",[r("li",[r("font",{attrs:{color:"red"}},[t._v("architecture")]),t._v(" 适配器所属的 GPU 家族或类别的名称")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("audio")]),t._v(" 返回音频指纹")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("canvas")]),t._v(" Canvas 指纹")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("colorDepth")]),t._v(" 返回目标设备或缓冲器上的调色板的比特深度，"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Screen/colorDepth",target:"_blank",rel:"noopener noreferrer"}},[t._v("mdn 链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("colorGamut")]),t._v(" 色域")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("contrast")]),t._v(" 对比度")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("cookiesEnabled")]),t._v(" 是否启用了 cookie."),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/cookieEnabled",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("cpuClass")]),t._v(" 浏览器系统的 CPU 等级")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("deviceMemory")]),t._v(" 以千兆字节为单位返回设备内存量,只在 https 中生效."),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/deviceMemory",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("domBlockers")]),t._v(" dom 拦截器")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("fontPreferences")]),t._v(" 字体偏好设置")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("fonts")]),t._v(" 返回从 64 种字体种筛选出的可用字体")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("forcedColors")]),t._v(" 强制颜色")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("hardwareConcurrency")]),t._v(" 可用于运行在用户的计算机上的线程的逻辑处理器的数量."),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/hardwareConcurrency",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("hdr")]),t._v(" 高动态范围成像")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("indexedDB")]),t._v(" 是否支持 indexedDb")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("invertedColors")]),t._v(" 反转颜色")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("languages")]),t._v(" 语言")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("localStorage")]),t._v("是否支持 localStorage")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("math")]),t._v(" math 内置对象的函数精度")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("monochrome")]),t._v(" 一个浏览器主题")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("openDatabase")]),t._v(" 是否支持 Web SQL.")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("osCpu")]),t._v(" 标识当前操作系统."),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/oscpu",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("pdfViewerEnabled")]),t._v(" 于指示浏览器是否支持在导航到 PDF 文件时以内联方式显示它们."),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/pdfViewerEnabled",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("platform")]),t._v(" 标识用户浏览器所在的平台."),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/platform",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("plugins")]),t._v(" 列出描述应用程序中已安装插件的 Plugin 对象."),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("reducedMotion")]),t._v(" 用于检测用户的系统是否被开启了动画减弱功能")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("screenFrame")]),t._v(" 屏幕框")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("screenResolution")]),t._v(" 检测屏幕宽高，并根据屏幕方向矫正返回值[width,height")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("sessionStorage")]),t._v(" 是否支持 sessionStorage")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("timezone")]),t._v(" 时区")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("touchSupport")]),t._v(" 返回最大触摸点数，是否支持 touch，是否支持 ontouchstart 事件")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("vendor")]),t._v(" vendor 属性， 属性的值始终为“Google Inc.”、“Apple Computer, Inc.”、或（在 Firefox 中）空字符串。"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/vendor",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),r("OutboundLink")],1)],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("vendorFlavors")]),t._v(" 浏览器供应商")],1),t._v(" "),r("li",[r("font",{attrs:{color:"red"}},[t._v("videoCard")]),t._v(" 显卡")],1)]),t._v(" "),r("h3",{attrs:{id:"指纹可能重复"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#指纹可能重复"}},[t._v("#")]),t._v(" 指纹可能重复")]),t._v(" "),r("p",[t._v("指纹可能重复，因为浏览器指纹是通过浏览器环境和行为生成的，可能会受到用户的各种操作和设置的影响。生成指纹的算法是固定的，在所有的组件指标值都相同时，生成的指纹相同。")]),t._v(" "),r("h3",{attrs:{id:"使用场景"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),r("ol",[r("li",[t._v("安全验证：异地或者可疑登录提示，增强账户安全")]),t._v(" "),r("li",[t._v("用户追踪：获取用户浏览习惯等进行数据分析，提升用户体验")]),t._v(" "),r("li",[t._v("防止账号共享：防止账号在不同设备上登录")]),t._v(" "),r("li",[t._v("防止恶意攻击：防止恶意攻击，比如刷票，刷评论，虚假账户注册")])]),t._v(" "),r("h3",{attrs:{id:"参考文章"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://juejin.cn/post/7125260071990198308",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章 1"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.csdn.net/qq_34402069/article/details/139641803",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章 2"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/biaochenxuying/blog/issues/60",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章 3"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=e.exports}}]);